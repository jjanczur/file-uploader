(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5686:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>D});var a=s(5155),t=s(2115),l=s(4624),n=s(2085),d=s(2596),i=s(9688);function o(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,i.QP)((0,d.$)(r))}let c=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=t.forwardRef((e,r)=>{let{className:s,variant:t,size:n,asChild:d=!1,...i}=e,u=d?l.DX:"button";return(0,a.jsx)(u,{className:o(c({variant:t,size:n,className:s})),ref:r,...i})});u.displayName="Button";let f=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:o("rounded-lg border bg-card text-card-foreground shadow-sm",s),...t})});f.displayName="Card";let p=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:o("flex flex-col space-y-1.5 p-6",s),...t})});p.displayName="CardHeader";let m=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:o("text-2xl font-semibold leading-none tracking-tight",s),...t})});m.displayName="CardTitle";let x=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:o("text-sm text-muted-foreground",s),...t})});x.displayName="CardDescription";let g=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:o("p-6 pt-0",s),...t})});g.displayName="CardContent",t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:o("flex items-center p-6 pt-0",s),...t})}).displayName="CardFooter";let h=t.forwardRef((e,r)=>{let{className:s,type:t,...l}=e;return(0,a.jsx)("input",{type:t,className:o("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:r,...l})});h.displayName="Input";var v=s(968);let b=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),y=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(v.b,{ref:r,className:o(b(),s),...t})});y.displayName=v.b.displayName;var j=s(9104);let N=t.forwardRef((e,r)=>{let{className:s,value:t,...l}=e;return(0,a.jsx)(j.bL,{ref:r,className:o("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...l,children:(0,a.jsx)(j.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(t||0),"%)")}})})});N.displayName=j.bL.displayName;let w=(0,n.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),R=t.forwardRef((e,r)=>{let{className:s,variant:t,...l}=e;return(0,a.jsx)("div",{ref:r,role:"alert",className:o(w({variant:t}),s),...l})});R.displayName="Alert",t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("h5",{ref:r,className:o("mb-1 font-medium leading-none tracking-tight",s),...t})}).displayName="AlertTitle";let k=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:o("text-sm [&_p]:leading-relaxed",s),...t})});k.displayName="AlertDescription";var C=s(9869),U=s(9890),F=s(4416),L=s(646),A=s(5339);function D(){let[e,r]=(0,t.useState)(""),[s,l]=(0,t.useState)(null),[n,d]=(0,t.useState)(!1),[i,o]=(0,t.useState)(0),[c,v]=(0,t.useState)(!1),[b,j]=(0,t.useState)(""),[w,D]=(0,t.useState)(!1),S=(0,t.useRef)(null),_=async()=>{if(!s||!e){j("Please provide both a file and a presigned URL");return}d(!0),o(0),j("");try{new URL(e)}catch(e){j("Invalid presigned URL format"),d(!1);return}let r=new XMLHttpRequest;r.upload.addEventListener("progress",e=>{e.lengthComputable&&o(Math.round(e.loaded/e.total*100))}),r.addEventListener("load",()=>{r.status>=200&&r.status<300?(v(!0),d(!1),o(100)):(j("Upload failed with status: ".concat(r.status)),d(!1))}),r.addEventListener("error",()=>{j("Upload failed. Please check your presigned URL and try again."),d(!1)}),r.addEventListener("abort",()=>{j("Upload was cancelled"),d(!1)}),r.open("PUT",e),r.setRequestHeader("Content-Type",s.type),r.send(s)};return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:(0,a.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,a.jsxs)(f,{children:[(0,a.jsxs)(p,{children:[(0,a.jsxs)(m,{className:"flex items-center gap-2",children:[(0,a.jsx)(C.A,{className:"w-6 h-6"}),"S3 File Uploader"]}),(0,a.jsx)(x,{children:"Upload large files to S3 using a presigned URL. Perfect for files several GB in size."})]}),(0,a.jsxs)(g,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y,{htmlFor:"presigned-url",children:"Presigned URL"}),(0,a.jsx)(h,{id:"presigned-url",type:"url",placeholder:"https://your-bucket.s3.amazonaws.com/...",value:e,onChange:e=>r(e.target.value),disabled:n})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y,{children:"File Upload"}),(0,a.jsx)("div",{className:"border-2 border-dashed rounded-lg p-8 text-center transition-colors ".concat(w?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"," ").concat(n?"opacity-50 pointer-events-none":""),onDragOver:e=>{e.preventDefault(),D(!0)},onDragLeave:e=>{e.preventDefault(),D(!1)},onDrop:e=>{e.preventDefault(),D(!1);let r=e.dataTransfer.files;r.length>0&&(l(r[0]),j(""),v(!1))},children:s?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(U.A,{className:"w-12 h-12 mx-auto text-blue-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:s.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:(e=>{if(0===e)return"0 Bytes";let r=Math.floor(Math.log(e)/Math.log(1024));return Number.parseFloat((e/Math.pow(1024,r)).toFixed(2))+" "+["Bytes","KB","MB","GB"][r]})(s.size)})]}),!n&&(0,a.jsxs)(u,{variant:"outline",size:"sm",onClick:()=>{l(null),o(0),v(!1),j(""),S.current&&(S.current.value="")},className:"mt-2",children:[(0,a.jsx)(F.A,{className:"w-4 h-4 mr-1"}),"Remove"]})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(C.A,{className:"w-12 h-12 mx-auto text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-lg font-medium",children:"Drop your file here"}),(0,a.jsx)("p",{className:"text-gray-500",children:"or click to browse"})]}),(0,a.jsx)(u,{variant:"outline",onClick:()=>{var e;return null===(e=S.current)||void 0===e?void 0:e.click()},disabled:n,children:"Choose File"})]})}),(0,a.jsx)("input",{ref:S,type:"file",className:"hidden",onChange:e=>{let r=e.target.files;r&&r.length>0&&(l(r[0]),j(""),v(!1))},disabled:n})]}),n&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Uploading..."}),(0,a.jsxs)("span",{children:[i,"%"]})]}),(0,a.jsx)(N,{value:i,className:"w-full"})]}),c&&(0,a.jsxs)(R,{className:"border-green-200 bg-green-50",children:[(0,a.jsx)(L.A,{className:"w-4 h-4 text-green-600"}),(0,a.jsx)(k,{className:"text-green-800",children:"File uploaded successfully!"})]}),b&&(0,a.jsxs)(R,{variant:"destructive",children:[(0,a.jsx)(A.A,{className:"w-4 h-4"}),(0,a.jsx)(k,{children:b})]}),(0,a.jsx)(u,{onClick:_,disabled:!s||!e||n||c,className:"w-full",size:"lg",children:n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Uploading... ",i,"%"]}):c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(L.A,{className:"w-4 h-4 mr-2"}),"Upload Complete"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C.A,{className:"w-4 h-4 mr-2"}),"Upload File"]})}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 space-y-2",children:[(0,a.jsx)("p",{className:"font-medium",children:"Instructions:"}),(0,a.jsxs)("ol",{className:"list-decimal list-inside space-y-1",children:[(0,a.jsx)("li",{children:"Paste your S3 presigned URL in the field above"}),(0,a.jsx)("li",{children:"Drag and drop a file or click to browse and select one"}),(0,a.jsx)("li",{children:'Click "Upload File" to start the upload process'}),(0,a.jsx)("li",{children:"Monitor the progress bar during upload"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-4",children:"This uploader supports files of any size and provides real-time upload progress. Make sure your presigned URL is valid and hasn't expired."})]})]})]})})})}},8940:(e,r,s)=>{Promise.resolve().then(s.bind(s,5686))}},e=>{var r=r=>e(e.s=r);e.O(0,[866,441,684,358],()=>r(8940)),_N_E=e.O()}]);